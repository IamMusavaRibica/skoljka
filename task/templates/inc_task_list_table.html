{% load pagination_tags %}
{% load task_tags %}

{% autopaginate tasks %}

{% if tasks %}
    <table width="100%">
    <tr>
        <th colspan="5">Lista zadataka</th>
    </tr>
    <tr>
        <th width="50">#</th>
        <th>Ime</th>
        <th>Tagovi</th>
        <th>Autor</th>
        <th>Rj.</th>
    </tr>
    
    {% for task in tasks|cache_task_tags %}
    {% if task.id in submitted_tasks %}
    <tr class="task_submitted">
    {% else %}
    <tr>
    {% endif %}
        <td style="text-align:center;">{{ task.id }}</td>
        <td><a href="/task/{{ task.id }}/">{{ task.name }}</a></td>
        <td>{{ task.tag_list }}</td>
        <td>{{ task.author|userlink }}</td>
        {% if task.solved_count > 0 %}
            <td><a href="/solution/task/{{ task.id }}/">{{ task.solved_count }}</a></td>
        {% else %}
            <td>0</td>
        {% endif %}
    </tr>
    {% endfor %}
    </table>
    {% paginate %}
{% else %}
    {% if empty_message %}{{ empty_message }}{% endif %}
{% endif %}
