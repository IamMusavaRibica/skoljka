{% load pagination_tags %}
{% load sorting_tags %}

{% load rating_tags %}

{% autosort solutions %}
{% autopaginate solutions %}

{% if solutions %}
    <table width="100%" class="table-striped table-condensed" style="text-align: center;">
    <tr>
        <th colspan="6">Lista rješenja</th>
    </tr>
    <tr>
        <th width="30">{% anchor id # %}</th>
        <th>Vrijeme</th>
        <th>Zadatak</th>
        <th>Korisnik</th>
        <th>Rješenje</th>
        <th>Točnost</th>
    </tr>
    {% for s in solutions %}
    <tr>
        <td>{{ s.id }}</td>
        <td>{{ s.date_created|timesince }} ago</td>
        <td>{{ s.task.get_link }}</td>
        <td>{{ s.author|userlink }}</a></td>
        {% if s.is_submitted %}
        <td>{% if s.is_official %}<span class="label label-info">Službeno</span> {% endif %}<a href="/solution/{{ s.id }}/">{{ s.content.short }}</a></td>
        <td style="width:80px;">{% rating_stars s.correctness 2.0 %}</td>
        {% else %}
        <td>
            {% if s.author == user %}<a href="/task/{{ s.task_id }}/submit/">{% endif %}
                {% if s.is_as_solved %}<i>prazno</i>{% endif %}
                {% if s.is_todo %}<i>to do</i>{% endif %}
            {% if s.author == user %}</a>{% endif %}
        </td>
        <td style="width:80px;">&nbsp;</td>
        {% endif %}
        
    </tr>
    {% endfor %}
    </table>
    {% paginate %}
{% else %}
    {% if empty_message %}{{ empty_message }}{% endif %}
{% endif %}